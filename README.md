## Устройство управления стендом с двумя шаговыми двигателями
Принимает команды управления положением по интерфейсу UART с физическим уровнем RS485 и выдает необходимое импульсное воздействие на два шаговых двигателя стенда.

### Подключение устройства
Для питания используется напряжение 5В, разъем USB-C. Подключение устройства к драйверам шагового двигателя с общим катодом (достаточно подключить PUL и DIR, если EN у драйвера не подключен, то драйвер активен). Подключение к ПК осуществляется по интерфейсу UART с физическим уровнем RS485 (разъем RJ11, два контакта по центру: A, B).

Параметры UART:
- Скорость: 115200 бод
- Количество стоп-бит: 1
- Бит паритета: нет

### Команды управления
Команды состоят из 4-х последовательных байт. Если временной интервал между байтами команды больше 200 битовых импульсов, то байты не обрабатываются. Формат команд следующий:
- 1-2 байты: идентификатор команды (2 байтное число, первый байт младший)
- 2-4 байты: аргумент команды (2 байтное число, первый байт младший)

| Наименование | Id | Аргумент | Ответ |
| --- | --- | --- | --- |
| Сбросить МК | 1 | - | - |
| Запрос тестового ответа МК | 2 | - | 4 байта:<br>`0x02 0x00 0x0С 0x0С` |
| Переключить светодиод | 3 | - | - |
| Задать коэффициент пересчета линейного перемещения по оси в угловое | 4 | Значение коэффициента | - |
| Задать коэффициент пересчета линейного перемещения по оси Y в угловое | 5 | Значение коэффициента | - |
| Задать текущее положение в качестве начала координат | 6 | - | - |
| Остановить оба двигателя | 7 | - | - |
| Остановить двигатель по оси X | 8 | - | - |
| Остановить двигатель по оси Y | 9 | - | - |
| Сместить цель по оси X | 10 | Знаковое целое число, мм | - |
| Сместить цель по оси Y | 11 | Знаковое целое число, мм | - |
| Запрос положения цели по оси X | 12 | - | 4 байта:<br> 1-2 байты: число `12`,<br> 3-4 байты: положение цели, мм, знаковое целое число |
| Запрос положения цели по оси Y | 13 | - | 4 байта:<br> 1-2 байты: число `13`,<br> 3-4 байты: положение цели, мм, знаковое целое число |
| Запрос положения цели | 14 | - | 6 байт:<br> 1-2 байты: число `14`,<br> 3-4 байты: положение по оси X, мм, знаковое целое число <br> 5-6 байты: положение по оси Y, мм, знаковое целое число |

### Примеры команд
- Запрос тестового ответа МК:<br>`0x02 0x00 0x00 0x00`<br>ответ:<br>`0x02 0x00 0x0C 0x0C`
- Сместить положение цели по оси X на 500 мм:<br>`0x0A 0x00 0xF4 0x01`
- Сместить положение цели по оси Y на -500 мм:<br>`0x0B 0x00 0x0C 0xFE`
- Запрос положения ОПУ:<br>`0x0E 0x00 0x00 0x00`<br>ответ:<br>`0x0E 0x00 0xF4 0x01 0x0C 0xFE` - положение цели по оси X на 500 мм, положение цели по оси Y на -500 мм
